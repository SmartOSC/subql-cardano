# To improve query performance, we strongly suggest adding indexes to any field that you plan to filter or sort by
# Add the `@index` or `@index(unique: true)` annotation after any non-key field
# https://academy.subquery.network/build/graphql.html#indexing-by-non-primary-key-field

enum EventType {
  SendPacket
  RecvPacket
  WriteAck
  AcknowledgePacket
  TimeoutPacket
  TimeoutPacketOnClose

  ChannelOpenInit
  ChannelOpenTry
  ChannelOpenAck
  ChannelOpenConfirm
  ChannelCloseInit
  ChannelCloseConfirm
  ChannelClosed

  ConnectionOpenInit
  ConnectionOpenTry
  ConnectionOpenAck
  ConnectionOpenConfirm

  CreateClient
  UpdateClient
}

type CardanoTransfer @entity {
  id: ID!
  blockHeight: BigInt
  txHash: String
  fromAddress: String!
  toAddress: String!
  amount: String
  denomination: String
}

type EventAttribute @entity {
  id: ID!
  key: String
  value: String
  event: Event
}

type Event @entity {
  id: ID!
  blockHeight: BigInt!
  txHash: String!
  type: EventType!
  eventAttribute: [EventAttribute]! @derivedFrom(field: "event")
}

type Client @entity {
  id: ID!
}

type Connection @entity {
  id: ID!
}

type Channel @entity {
  id: ID!
}
