# To improve query performance, we strongly suggest adding indexes to any field that you plan to filter or sort by
# Add the `@index` or `@index(unique: true)` annotation after any non-key field
# https://academy.subquery.network/build/graphql.html#indexing-by-non-primary-key-field

enum EventType {
  SendPacket
  RecvPacket
  WriteAck
  AcknowledgePacket
  TimeoutPacket
  TimeoutPacketOnClose

  ChannelOpenInit
  ChannelOpenTry
  ChannelOpenAck
  ChannelOpenConfirm
  ChannelCloseInit
  ChannelCloseConfirm
  ChannelClosed

  ConnectionOpenInit
  ConnectionOpenTry
  ConnectionOpenAck
  ConnectionOpenConfirm

  CreateClient
  UpdateClient
}

type CardanoTransfer @entity {
  id: ID!
  blockHeight: BigInt
  txHash: String
  fromAddress: String!
  toAddress: String!
  amount: String
  denomination: String
}

type EventAttribute @jsonField(indexed: false) {
  key: String!
  value: String
}

type Event @entity {
  id: ID!
  blockHeight: BigInt!
  txHash: String!
  type: EventType!
  eventAttributes: [EventAttribute]! # Store a list of JSON objects
}

type Client @entity {
  id: ID!
}

type Connection @entity {
  id: ID!
}

type Channel @entity {
  id: ID!
}

type CardanoIbcAsset @entity {
  id: ID!
  accountAddress: String!
  denom: String!
  amount: BigInt!
  isIbcToken: Boolean!
  voucherTokenName: String!
  connectionId: String!
  port: String!
  channelId: String!
  chainId: String!
}